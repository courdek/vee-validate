!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VeeValidate=t()}(this,function(){"use strict";function s(e){return N(["radio","checkbox"],e.type)}function o(e,t){return e.getAttribute("data-vv-"+t)}function i(e){return"isNaN"in Number?Number.isNaN(e):e==e}function u(e,t,n){if(void 0===n&&(n=void 0),!e||!t)return n;var i=t;return e.split(".").every(function(e){return e in i?(i=i[e],!0):(i=n,!1)}),i}function r(e,t){return t?e?("string"==typeof t&&(t=_(t)),E({},t,_(e))):_(t):_(e)}function c(e){return new Error("[vee-validate] "+e)}function a(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function d(e){if(O(Array.from))return Array.from(e);for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}function l(e,t){for(var n=Array.isArray(e)?e:d(e),i=0;i<n.length;i++)if(t(n[i]))return i;return-1}function n(e){if(!e)return!1;var t=e.componentOptions.tag;return/^(keep-alive|transition|transition-group)$/.test(t)}function f(e){if("number"==typeof e)return e;if("string"==typeof e)return parseInt(e);var t={};for(var n in e)t[n]=parseInt(e[n]);return t}function v(e,t){if(e.required&&(t=r("required",t)),p(e))return"email"===e.type&&(t=r("email"+(e.multiple?":multiple":""),t)),e.pattern&&(t=r({regex:e.pattern},t)),0<=e.maxLength&&e.maxLength<524288&&(t=r("max:"+e.maxLength,t)),0<e.minLength&&(t=r("min:"+e.minLength,t)),"number"===e.type&&(t=r("decimal",t),""!==e.min&&(t=r("min_value:"+e.min,t)),""!==e.max&&(t=r("max_value:"+e.max,t))),t;if(function(e){return N(["date","week","month","datetime-local","time"],e.type)}(e)){var n=e.step&&Number(e.step)<60?"HH:mm:ss":"HH:mm";if("date"===e.type)return r("date_format:yyyy-MM-dd",t);if("datetime-local"===e.type)return r("date_format:yyyy-MM-ddT"+n,t);if("month"===e.type)return r("date_format:yyyy-MM",t);if("week"===e.type)return r("date_format:yyyy-[W]WW",t);if("time"===e.type)return r("date_format:"+n,t)}return t}function h(t){return O(Object.values)?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function t(e,t,n){Object.defineProperty(e,t,{configurable:!1,writable:!0,value:n})}function e(e){void 0===e&&(e={}),this.container={},this.merge(e)}var p=function(e){return N(["text","password","search","email","tel","url","textarea","number"],e.type)},m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.every(function(e){return null==e})},g=function(t,n){if(t instanceof RegExp&&n instanceof RegExp)return g(t.source,n.source)&&g(t.flags,n.flags);if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!g(t[e],n[e]))return!1;return!0}return I(t)&&I(n)?Object.keys(t).every(function(e){return g(t[e],n[e])})&&Object.keys(n).every(function(e){return g(t[e],n[e])}):!(!i(t)||!i(n))||t===n},y=function(e){return m(e)?null:"FORM"===e.tagName?e:m(e.form)?m(e.parentNode)?null:y(e.parentNode):e.form},b=function(n,i,r){return void 0===i&&(i=0),void 0===r&&(r={cancelled:!1}),0===i?n:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];clearTimeout(s),(s=setTimeout(function(){s=null,r.cancelled||n.apply(void 0,e)},i))||n.apply(void 0,e)};var s},_=function(i){return i?I(i)?Object.keys(i).reduce(function(e,t){var n=[];return n=!0===i[t]?[]:Array.isArray(i[t])?i[t]:I(i[t])?i[t]:[i[t]],!1!==i[t]&&(e[t]=n),e},{}):"string"!=typeof i?($("rules must be either a string or an object."),{}):i.split("|").reduce(function(e,t){var n=function(e){var t=[],n=e.split(":")[0];return N(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}}(t);return n.name&&(e[n.name]=n.params),e},{}):{}},$=function(e){console.warn("[vee-validate] "+e)},I=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)},O=function(e){return"function"==typeof e},A=function(t,e,n){if(t&&e){if(!Array.isArray(e))return n?function(e,t){e.classList?e.classList.add(t):a(e,t)||(e.className+=" "+t)}(t,e):void function(e,t){if(e.classList)e.classList.remove(t);else if(a(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}(t,e);e.forEach(function(e){return A(t,e,n)})}},E=function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(O(Object.assign))return Object.assign.apply(Object,[e].concat(t));if(null==e)throw new TypeError("Cannot convert undefined or null to object");var i=Object(e);return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(e){i[e]=t[e]})}),i},x=0,w="{id}",j=function(e,t){var n=Array.isArray(e)?e:d(e),i=l(n,t);return-1===i?void 0:n[i]},F=function(i,r){return I(i)&&I(r)&&Object.keys(r).forEach(function(e){var t,n;if(I(r[e]))return i[e]||E(i,((t={})[e]={},t)),void F(i[e],r[e]);E(i,((n={})[e]=r[e],n))}),i},N=function(e,t){return-1!==e.indexOf(t)},V="en",D={locale:{configurable:!0}};D.locale.get=function(){return V},D.locale.set=function(e){V=e||"en"},e.prototype.hasLocale=function(e){return!!this.container[e]},e.prototype.setDateFormat=function(e,t){this.container[e]||(this.container[e]={}),this.container[e].dateFormat=t},e.prototype.getDateFormat=function(e){return this.container[e]&&this.container[e].dateFormat?this.container[e].dateFormat:null},e.prototype.getMessage=function(e,t,n){var i=null;return i=this.hasMessage(e,t)?this.container[e].messages[t]:this._getDefaultMessage(e),O(i)?i.apply(void 0,n):i},e.prototype.getFieldMessage=function(e,t,n,i){if(!this.hasLocale(e))return this.getMessage(e,n,i);var r=this.container[e].custom&&this.container[e].custom[t];if(!r||!r[n])return this.getMessage(e,n,i);var s=r[n];return O(s)?s.apply(void 0,i):s},e.prototype._getDefaultMessage=function(e){return this.hasMessage(e,"_default")?this.container[e].messages._default:this.container.en.messages._default},e.prototype.getAttribute=function(e,t,n){return void 0===n&&(n=""),this.hasAttribute(e,t)?this.container[e].attributes[t]:n},e.prototype.hasMessage=function(e,t){return!!(this.hasLocale(e)&&this.container[e].messages&&this.container[e].messages[t])},e.prototype.hasAttribute=function(e,t){return!!(this.hasLocale(e)&&this.container[e].attributes&&this.container[e].attributes[t])},e.prototype.merge=function(e){F(this.container,e)},e.prototype.setMessage=function(e,t,n){this.hasLocale(e)||(this.container[e]={messages:{},attributes:{}}),this.container[e].messages[t]=n},e.prototype.setAttribute=function(e,t,n){this.hasLocale(e)||(this.container[e]={messages:{},attributes:{}}),this.container[e].attributes[t]=n},Object.defineProperties(e.prototype,D);function R(){}var k={default:new e({en:{messages:{},attributes:{},custom:{}}})},P="default";R._checkDriverName=function(e){if(!e)throw c("you must provide a name to the dictionary driver")},R.setDriver=function(e,t){void 0===t&&(t=null),this._checkDriverName(e),t&&(k[e]=t),P=e},R.getDriver=function(){return k[P]};function q(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.vmId=t||null,this.items=e&&e instanceof q?e.items:[]}q.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){var e=this,t=0;return{next:function(){return{value:e.items[t++],done:t>e.items.length}}}},q.prototype.add=function(e){var t;(t=this.items).push.apply(t,this._normalizeError(e))},q.prototype._normalizeError=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return e.scope=m(e.scope)?null:e.scope,e.vmId=m(e.vmId)?t.vmId||null:e.vmId,e}):(e.scope=m(e.scope)?null:e.scope,e.vmId=m(e.vmId)?this.vmId||null:e.vmId,[e])},q.prototype.regenerate=function(){this.items.forEach(function(e){e.msg=O(e.regenerate)?e.regenerate():e.msg})},q.prototype.update=function(t,e){var n=j(this.items,function(e){return e.id===t});if(n){var i=this.items.indexOf(n);this.items.splice(i,1),n.scope=e.scope,this.items.push(n)}},q.prototype.all=function(i){var r=this;return this.items.filter(function(e){var t=!0,n=!0;return m(i)||(t=e.scope===i),m(r.vmId)||(n=e.vmId===r.vmId),n&&t}).map(function(e){return e.msg})},q.prototype.any=function(i){var r=this;return!!this.items.filter(function(e){var t=!0,n=!0;return m(i)||(t=e.scope===i),m(r.vmId)||(n=e.vmId===r.vmId),n&&t}).length},q.prototype.clear=function(e){var t=this,n=m(this.vmId)?function(){return!0}:function(e){return e.vmId===t.vmId};m(e)&&(e=null);for(var i=0;i<this.items.length;++i)n(this.items[i])&&this.items[i].scope===e&&(this.items.splice(i,1),--i)},q.prototype.collect=function(e,t,n){var i=this;void 0===n&&(n=!0);function r(e){var t=e.reduce(function(e,t){return(m(i.vmId)||t.vmId===i.vmId)&&(e[t.field]||(e[t.field]=[]),e[t.field].push(n?t.msg:t)),e},{});return s?h(t)[0]||[]:t}var s=!m(e)&&!e.includes("*");if(m(e))return r(this.items);var a=m(t)?String(e):t+"."+e,o=this._makeCandidateFilters(a),u=o.isPrimary,l=o.isAlt,c=this.items.reduce(function(e,t){return u(t)&&e.primary.push(t),l(t)&&e.alt.push(t),e},{primary:[],alt:[]});return r(c=c.primary.length?c.primary:c.alt)},q.prototype.count=function(){var t=this;return this.vmId?this.items.filter(function(e){return e.vmId===t.vmId}).length:this.items.length},q.prototype.firstById=function(t){var e=j(this.items,function(e){return e.id===t});return e?e.msg:void 0},q.prototype.first=function(e,t){void 0===t&&(t=null);var n=m(t)?e:t+"."+e,i=this._match(n);return i&&i.msg},q.prototype.firstRule=function(e,t){var n=this.collect(e,t,!1);return n.length&&n[0].rule||void 0},q.prototype.has=function(e,t){return void 0===t&&(t=null),!!this.first(e,t)},q.prototype.firstByRule=function(e,t,n){void 0===n&&(n=null);var i=this.collect(e,n,!1).filter(function(e){return e.rule===t})[0];return i&&i.msg||void 0},q.prototype.firstNot=function(e,t,n){void 0===t&&(t="required"),void 0===n&&(n=null);var i=this.collect(e,n,!1).filter(function(e){return e.rule!==t})[0];return i&&i.msg||void 0},q.prototype.removeById=function(t){var e=function(e){return e.id===t};Array.isArray(t)&&(e=function(e){return-1!==t.indexOf(e.id)});for(var n=0;n<this.items.length;++n)e(this.items[n])&&(this.items.splice(n,1),--n)},q.prototype.remove=function(e,t,n){if(!m(e))for(var i,r=m(t)?String(e):t+"."+e,s=this._makeCandidateFilters(r),a=s.isPrimary,o=s.isAlt,u=function(e){return a(e)||o(e)},l=0;l<this.items.length;++l)i=this.items[l],(m(n)?u(i):u(i)&&i.vmId===n)&&(this.items.splice(l,1),--l)},q.prototype._makeCandidateFilters=function(e){var t=this,n=function(){return!0},i=function(){return!0},r=function(){return!0},s=function(){return!0},a=function(e){var t=null;if(N(e,":")&&(t=e.split(":").pop(),e=e.replace(":"+t,"")),"#"===e[0])return{id:e.slice(1),rule:t,name:null,scope:null};var n=null,i=e;if(N(e,".")){var r=e.split(".");n=r[0],i=r.slice(1).join(".")}return{id:null,scope:n,name:i,rule:t}}(e),o=a.id,u=a.rule,l=a.scope,c=a.name;if(u&&(n=function(e){return e.rule===u}),o)return{isPrimary:function(e){return n(e)&&function(e){return o===e.id}},isAlt:function(){return!1}};i=m(l)?function(e){return m(e.scope)}:function(e){return e.scope===l},m(c)||"*"===c||(r=function(e){return e.field===c}),m(this.vmId)||(s=function(e){return e.vmId===t.vmId});return{isPrimary:function(e){return s(e)&&r(e)&&n(e)&&i(e)},isAlt:function(e){return s(e)&&n(e)&&e.field===l+"."+c}}};q.prototype._match=function(e){if(!m(e)){var t=this._makeCandidateFilters(e),s=t.isPrimary,a=t.isAlt;return this.items.reduce(function(e,t,n,i){var r=n===i.length-1;return e.primary?r?e.primary:e:(s(t)&&(e.primary=t),a(t)&&(e.alt=t),r?e.primary||e.alt:e)},{})}};function S(e){var t=u("$options.$_veeValidate",e,{});return E({},M,t)}function C(){return M}function L(e){M=E({},M,e)}var M=E({},{locale:"en",delay:0,errorBagName:"errors",dictionary:null,fieldsBagName:"fields",classes:!1,classNames:null,events:"input",inject:!0,fastExit:!0,aria:!0,validity:!1,mode:"aggressive",useConstraintAttrs:!0,i18n:null,i18nRootKey:"validation"});function T(e){return e.data?e.data.model?e.data.model:!!e.data.directives&&j(e.data.directives,function(e){return"model"===e.name}):null}function B(e){return T(e)?[e]:function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e).reduce(function(e,t){var n=B(t);return n.length&&e.push.apply(e,n),e},[])}function z(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function H(e,t,n){if(O(e[t])){var i=e[t];e[t]=[i]}Array.isArray(e[t])?e[t].push(n):m(e[t])&&(e[t]=[n])}function K(e,t,n){e.componentOptions?function(e,t,n){e.componentOptions.listeners||(e.componentOptions.listeners={}),H(e.componentOptions.listeners,t,n)}(e,t,n):function(e,t,n){m(e.data.on)&&(e.data.on={}),H(e.data.on,t,n)}(e,t,n)}function W(e,t){return e.componentOptions?(z(e)||{event:"input"}).event:t&&t.modifiers&&t.modifiers.lazy||"select"===e.tag?"change":e.data.attrs&&p({type:e.data.attrs.type||"text"})?"input":"change"}function G(){}G.generate=function(e,t,n){var i=G.resolveModel(t,n),r=S(n.context);return{name:G.resolveName(e,n),el:e,listen:!t.modifiers.disable,bails:!!t.modifiers.bails||!0!==t.modifiers.continues&&void 0,scope:G.resolveScope(e,t,n),vm:n.context,expression:t.value,component:n.componentInstance,classes:r.classes,classNames:r.classNames,getter:G.resolveGetter(e,n,i),events:G.resolveEvents(e,n)||r.events,model:i,delay:G.resolveDelay(e,n,r),rules:G.resolveRules(e,t,n),immediate:!!t.modifiers.initial||!!t.modifiers.immediate,persist:!!t.modifiers.persist,validity:r.validity&&!n.componentInstance,aria:r.aria&&!n.componentInstance,initialValue:G.resolveInitialValue(n)}},G.getCtorConfig=function(e){return e.componentInstance?u("componentInstance.$options.$_veeValidate",e):null},G.resolveRules=function(e,t,n){var i="";if(t.value||t&&t.expression||(i=o(e,"rules")),t.value&&N(["string","object"],typeof t.value.rules)?i=t.value.rules:t.value&&(i=t.value),n.componentInstance)return i;var r=_(i);return C().useConstraintAttrs?E({},v(e,{}),r):r},G.resolveInitialValue=function(e){var t=e.data.model||j(e.data.directives,function(e){return"model"===e.name});return t&&t.value},G.resolveDelay=function(e,t,n){var i=o(e,"delay"),r=n&&"delay"in n?n.delay:0;return!i&&t.componentInstance&&t.componentInstance.$attrs&&(i=t.componentInstance.$attrs["data-vv-delay"]),I(r)?(m(i)||(r.input=i),f(r)):f(i||r)},G.resolveEvents=function(e,t){var n=o(e,"validate-on");if(!n&&t.componentInstance&&t.componentInstance.$attrs&&(n=t.componentInstance.$attrs["data-vv-validate-on"]),!n&&t.componentInstance){var i=G.getCtorConfig(t);n=i&&i.events}if(!n&&C().events&&(n=C().events),n&&t.componentInstance&&N(n,"input")){var r=(t.componentInstance.$options.model||{event:"input"}).event;if(!r)return n;n=n.replace("input",r)}return n},G.resolveScope=function(e,t,n){void 0===n&&(n={});var i=null;return n.componentInstance&&m(i)&&(i=n.componentInstance.$attrs&&n.componentInstance.$attrs["data-vv-scope"]),m(i)?function(e){var t=o(e,"scope");if(m(t)){var n=y(e);n&&(t=o(n,"scope"))}return m(t)?null:t}(e):i},G.resolveModel=function(e,t){if(e.arg)return{expression:e.arg};var n=T(t);if(!n)return null;var i=!/[^\w.$]/.test(n.expression)&&function(e,t){var n=t;return e.split(".").reduce(function(e,t){return null==n||"object"!=typeof n?e&&!1:t in n?(n=n[t],e&&!0):e&&!1},!0)}(n.expression,t.context),r=!(!n.modifiers||!n.modifiers.lazy);return i?{expression:n.expression,lazy:r}:{expression:null,lazy:r}},G.resolveName=function(e,t){var n=o(e,"name");if(!n&&!t.componentInstance)return e.name;if(!n&&t.componentInstance&&t.componentInstance.$attrs&&(n=t.componentInstance.$attrs["data-vv-name"]||t.componentInstance.$attrs.name),n||!t.componentInstance)return n;var i=G.getCtorConfig(t);return i&&O(i.name)?i.name.bind(t.componentInstance)():t.componentInstance.name},G.resolveGetter=function(n,e,t){if(t&&t.expression)return function(){return u(t.expression,e.context)};if(e.componentInstance){var i=o(n,"value-path")||e.componentInstance.$attrs&&e.componentInstance.$attrs["data-vv-value-path"];if(i)return function(){return u(i,e.componentInstance)};var r=G.getCtorConfig(e);if(r&&O(r.value)){var s=r.value.bind(e.componentInstance);return function(){return s()}}var a=(e.componentInstance.$options.model||{prop:"value"}).prop;return function(){return e.componentInstance[a]}}switch(n.type){case"checkbox":return function(){var e=document.querySelectorAll('input[name="'+n.name+'"]');if((e=d(e).filter(function(e){return e.checked})).length)return e.map(function(e){return e.value})};case"radio":return function(){var e=document.querySelectorAll('input[name="'+n.name+'"]'),t=j(e,function(e){return e.checked});return t&&t.value};case"file":return function(e){return d(n.files)};case"select-multiple":return function(){return d(n.options).filter(function(e){return e.selected}).map(function(e){return e.value})};default:return function(){return n&&n.value}}};function U(){}var J={},Q={rules:{configurable:!0}};U.add=function(e,t){var n=t.validate,i=t.options,r=t.paramNames;J[e]={validate:n,options:i,paramNames:r}},Q.rules.get=function(){return J},U.has=function(e){return!!J[e]},U.isImmediate=function(e){return!(!J[e]||!J[e].options.immediate)},U.isRequireRule=function(e){return!(!J[e]||!J[e].options.computesRequired)},U.isTargetRule=function(e){return!(!J[e]||!J[e].options.hasTarget)},U.remove=function(e){delete J[e]},U.getParamNames=function(e){return J[e]&&J[e].paramNames},U.getOptions=function(e){return J[e]&&J[e].options},U.getValidatorMethod=function(e){return J[e]?J[e].validate:null},Object.defineProperties(U,Q);function X(e){return"undefined"!=typeof Event&&O(Event)&&e instanceof Event||e&&e.srcElement}function Y(e){return e?"string"==typeof e?e.split("|"):e:[]}function Z(e,t,n){e.addEventListener(t,n,!!te&&{passive:!0})}function ee(e){void 0===e&&(e={}),this.id=(9999<=x&&(x=0,w=w.replace("{id}","_{id}")),x++,w.replace("{id}",String(x))),this.el=e.el,this.updated=!1,this.vmId=e.vmId,t(this,"dependencies",[]),t(this,"watchers",[]),t(this,"events",[]),this.delay=0,this.rules={},this.forceRequired=!1,this._cacheId(e),this.classNames=E({},ne.classNames),e=E({},ne,e),this._delay=m(e.delay)?0:e.delay,this.validity=e.validity,this.aria=e.aria,this.flags=e.flags||{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1},t(this,"vm",e.vm),t(this,"componentInstance",e.component),this.ctorConfig=this.componentInstance?u("$options.$_veeValidate",this.componentInstance):void 0,this.update(e),this.initialValue=this.value,this.updated=!1}var te=!0,ne={targetOf:null,immediate:!1,persist:!1,scope:null,listen:!0,name:null,rules:{},vm:null,classes:!1,validity:!0,aria:!0,events:"input|blur",delay:0,classNames:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"}},ie={validator:{configurable:!0},isRequired:{configurable:!0},isDisabled:{configurable:!0},alias:{configurable:!0},value:{configurable:!0},bails:{configurable:!0},rejectsFalse:{configurable:!0}};ie.validator.get=function(){return this.vm&&this.vm.$validator?this.vm.$validator:{validate:function(){}}},ie.isRequired.get=function(){return!!this.rules.required||this.forceRequired},ie.isDisabled.get=function(){return!(!this.componentInstance||!this.componentInstance.disabled)||!(!this.el||!this.el.disabled)},ie.alias.get=function(){if(this._alias)return this._alias;var e=null;return this.ctorConfig&&this.ctorConfig.alias&&(e=O(this.ctorConfig.alias)?this.ctorConfig.alias.call(this.componentInstance):this.ctorConfig.alias),!e&&this.el&&(e=o(this.el,"as")),!e&&this.componentInstance?this.componentInstance.$attrs&&this.componentInstance.$attrs["data-vv-as"]:e},ie.value.get=function(){if(O(this.getter))return this.getter()},ie.bails.get=function(){return this._bails},ie.rejectsFalse.get=function(){return this.componentInstance&&this.ctorConfig?!!this.ctorConfig.rejectsFalse:!!this.el&&"checkbox"===this.el.type},ee.prototype.matches=function(e){var t=this;return!e||(e.id?this.id===e.id:!!(m(e.vmId)?function(){return!0}:function(e){return e===t.vmId})(e.vmId)&&(void 0===e.name&&void 0===e.scope||(void 0===e.scope?this.name===e.name:void 0===e.name?this.scope===e.scope:e.name===this.name&&e.scope===this.scope)))},ee.prototype._cacheId=function(e){this.el&&!e.targetOf&&(this.el._veeValidateId=this.id)},ee.prototype.waitFor=function(e){this._waitingFor=e},ee.prototype.isWaitingFor=function(e){return this._waitingFor===e},ee.prototype.update=function(e){this.targetOf=e.targetOf||null,this.immediate=e.immediate||this.immediate||!1,this.persist=e.persist||this.persist||!1,!m(e.scope)&&e.scope!==this.scope&&O(this.validator.update)&&this.validator.update(this.id,{scope:e.scope}),this.scope=m(e.scope)?m(this.scope)?null:this.scope:e.scope,this.name=(m(e.name)?e.name:String(e.name))||this.name||null,this.rules=void 0!==e.rules?_(e.rules):this.rules,this._bails=void 0!==e.bails?e.bails:this._bails,this.model=e.model||this.model,this.listen=void 0!==e.listen?e.listen:this.listen,this.classes=!(!e.classes&&!this.classes)&&!this.componentInstance,this.classNames=I(e.classNames)?F(this.classNames,e.classNames):this.classNames,this.getter=O(e.getter)?e.getter:this.getter,this._alias=e.alias||this._alias,this.events=e.events?Y(e.events):this.events,this.delay=function(e,n,i){return"number"==typeof n?e.reduce(function(e,t){return e[t]=n,e},{}):e.reduce(function(e,t){return e[t]="object"==typeof n&&t in n?n[t]:"number"==typeof i?i:i&&i[t]||0,e},{})}(this.events,e.delay||this.delay,this._delay),this.updateDependencies(),this.addActionListeners(),void 0!==e.rules&&(this.flags.required=this.isRequired),this.flags.validated&&void 0!==e.rules&&this.updated&&this.validator.validate("#"+this.id),this.updated=!0,this.addValueListeners(),this.el&&(this.updateClasses(),this.updateAriaAttrs())},ee.prototype.reset=function(){var t=this;this._cancellationToken&&(this._cancellationToken.cancelled=!0,delete this._cancellationToken);var n={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1};Object.keys(this.flags).filter(function(e){return"required"!==e}).forEach(function(e){t.flags[e]=n[e]}),this.initialValue=this.value,this.flags.changed=!1,this.addValueListeners(),this.addActionListeners(),this.updateClasses(!0),this.updateAriaAttrs(),this.updateCustomValidity()},ee.prototype.setFlags=function(t){var n=this,i={pristine:"dirty",dirty:"pristine",valid:"invalid",invalid:"valid",touched:"untouched",untouched:"touched"};Object.keys(t).forEach(function(e){n.flags[e]=t[e],i[e]&&void 0===t[i[e]]&&(n.flags[i[e]]=!t[e])}),void 0===t.untouched&&void 0===t.touched&&void 0===t.dirty&&void 0===t.pristine||this.addActionListeners(),this.updateClasses(),this.updateAriaAttrs(),this.updateCustomValidity()},ee.prototype.updateDependencies=function(){var a=this;this.dependencies.forEach(function(e){return e.field.destroy()}),this.dependencies=[];var e=Object.keys(this.rules).reduce(function(e,t){return U.isTargetRule(t)&&e.push({selector:a.rules[t][0],name:t}),e},[]);e.length&&this.vm&&this.vm.$el&&e.forEach(function(e){var t=e.selector,n=e.name,i=a.vm.$refs[t],r=Array.isArray(i)?i[0]:i;if(r){var s={vm:a.vm,classes:a.classes,classNames:a.classNames,delay:a.delay,scope:a.scope,events:a.events.join("|"),immediate:a.immediate,targetOf:a.id};O(r.$watch)?(s.component=r,s.el=r.$el,s.getter=G.resolveGetter(r.$el,r.$vnode)):(s.el=r,s.getter=G.resolveGetter(r,{})),a.dependencies.push({name:n,field:new ee(s)})}})},ee.prototype.unwatch=function(t){if(void 0===t&&(t=null),!t)return this.watchers.forEach(function(e){return e.unwatch()}),void(this.watchers=[]);this.watchers.filter(function(e){return t.test(e.tag)}).forEach(function(e){return e.unwatch()}),this.watchers=this.watchers.filter(function(e){return!t.test(e.tag)})},ee.prototype.updateClasses=function(t){var n=this;if(void 0===t&&(t=!1),this.classes&&!this.isDisabled){var e=function(e){A(e,n.classNames.dirty,n.flags.dirty),A(e,n.classNames.pristine,n.flags.pristine),A(e,n.classNames.touched,n.flags.touched),A(e,n.classNames.untouched,n.flags.untouched),t&&(A(e,n.classNames.valid,!1),A(e,n.classNames.invalid,!1)),!m(n.flags.valid)&&n.flags.validated&&A(e,n.classNames.valid,n.flags.valid),!m(n.flags.invalid)&&n.flags.validated&&A(e,n.classNames.invalid,n.flags.invalid)};if(s(this.el)){var i=document.querySelectorAll('input[name="'+this.el.name+'"]');d(i).forEach(e)}else e(this.el)}},ee.prototype.addActionListeners=function(){var e=this;if(this.unwatch(/class/),this.el){var t=function(){e.flags.touched=!0,e.flags.untouched=!1,e.classes&&(A(e.el,e.classNames.touched,!0),A(e.el,e.classNames.untouched,!1)),e.unwatch(/^class_blur$/)},n=p(this.el)?"input":"change",i=function(){e.flags.dirty=!0,e.flags.pristine=!1,e.classes&&(A(e.el,e.classNames.pristine,!1),A(e.el,e.classNames.dirty,!0)),e.unwatch(/^class_input$/)};if(this.componentInstance&&O(this.componentInstance.$once))return this.componentInstance.$once("input",i),this.componentInstance.$once("blur",t),this.watchers.push({tag:"class_input",unwatch:function(){e.componentInstance.$off("input",i)}}),void this.watchers.push({tag:"class_blur",unwatch:function(){e.componentInstance.$off("blur",t)}});if(this.el){Z(this.el,n,i);var r=s(this.el)?"change":"blur";Z(this.el,r,t),this.watchers.push({tag:"class_input",unwatch:function(){e.el.removeEventListener(n,i)}}),this.watchers.push({tag:"class_blur",unwatch:function(){e.el.removeEventListener(r,t)}})}}},ee.prototype.checkValueChanged=function(){return(null!==this.initialValue||""!==this.value||!p(this.el))&&this.value!==this.initialValue},ee.prototype._determineInputEvent=function(){return this.componentInstance?this.componentInstance.$options.model&&this.componentInstance.$options.model.event||"input":this.model&&this.model.lazy?"change":p(this.el)?"input":"change"},ee.prototype._determineEventList=function(t){var n=this;return!this.events.length||this.componentInstance||p(this.el)?[].concat(this.events).map(function(e){return"input"===e&&n.model&&n.model.lazy?"change":e}):this.events.map(function(e){return"input"===e?t:e})},ee.prototype.addValueListeners=function(){var n=this;if(this.unwatch(/^input_.+/),this.listen&&this.el){var i={cancelled:!1},r=this.targetOf?function(){var e=n.validator._resolveField("#"+n.targetOf);e&&e.flags.validated&&n.validator.validate("#"+n.targetOf)}:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];0!==e.length&&!X(e[0])||(e[0]=n.value),n.flags.pending=!0,n._cancellationToken=i,n.validator.validate("#"+n.id,e[0])},t=this._determineInputEvent(),e=this._determineEventList(t);if(this.model&&N(e,t)){var s=null,a=this.model.expression;if(this.model.expression&&(s=this.vm,a=this.model.expression),!a&&this.componentInstance&&this.componentInstance.$options.model&&(s=this.componentInstance,a=this.componentInstance.$options.model.prop||"value"),s&&a){var o=b(r,this.delay[t],i),u=s.$watch(a,o);this.watchers.push({tag:"input_model",unwatch:function(){n.vm.$nextTick(function(){u()})}}),e=e.filter(function(e){return e!==t})}}e.forEach(function(e){var t=b(r,n.delay[e],i);n._addComponentEventListener(e,t),n._addHTMLEventListener(e,t)})}},ee.prototype._addComponentEventListener=function(e,t){var n=this;this.componentInstance&&(this.componentInstance.$on(e,t),this.watchers.push({tag:"input_vue",unwatch:function(){n.componentInstance.$off(e,t)}}))},ee.prototype._addHTMLEventListener=function(t,n){var i=this;if(this.el&&!this.componentInstance){var r=function(e){Z(e,t,n),i.watchers.push({tag:"input_native",unwatch:function(){e.removeEventListener(t,n)}})};if(r(this.el),s(this.el)){var e=document.querySelectorAll('input[name="'+this.el.name+'"]');d(e).forEach(function(e){e._veeValidateId&&e!==i.el||r(e)})}}},ee.prototype.updateAriaAttrs=function(){var t=this;if(this.aria&&this.el&&O(this.el.setAttribute)){var e=function(e){e.setAttribute("aria-required",t.isRequired?"true":"false"),e.setAttribute("aria-invalid",t.flags.invalid?"true":"false")};if(s(this.el)){var n=document.querySelectorAll('input[name="'+this.el.name+'"]');d(n).forEach(e)}else e(this.el)}},ee.prototype.updateCustomValidity=function(){this.validity&&this.el&&O(this.el.setCustomValidity)&&this.validator.errors&&this.el.setCustomValidity(this.flags.valid?"":this.validator.errors.firstById(this.id)||"")},ee.prototype.destroy=function(){this._cancellationToken&&(this._cancellationToken.cancelled=!0),this.unwatch(),this.dependencies.forEach(function(e){return e.field.destroy()}),this.dependencies=[]},Object.defineProperties(ee.prototype,ie);function re(e){void 0===e&&(e=[]),this.items=e||[],this.itemsById=this.items.reduce(function(e,t){return e[t.id]=t,e},{})}var se={length:{configurable:!0}};re.prototype["function"==typeof Symbol?Symbol.iterator:"@@iterator"]=function(){var e=this,t=0;return{next:function(){return{value:e.items[t++],done:t>e.items.length}}}},se.length.get=function(){return this.items.length},re.prototype.find=function(t){return j(this.items,function(e){return e.matches(t)})},re.prototype.findById=function(e){return this.itemsById[e]||null},re.prototype.filter=function(n){return Array.isArray(n)?this.items.filter(function(t){return n.some(function(e){return t.matches(e)})}):this.items.filter(function(e){return e.matches(n)})},re.prototype.map=function(e){return this.items.map(e)},re.prototype.remove=function(e){var t=null;if(!(t=e instanceof ee?e:this.find(e)))return null;var n=this.items.indexOf(t);return this.items.splice(n,1),delete this.itemsById[t.id],t},re.prototype.push=function(e){if(!(e instanceof ee))throw c("FieldBag only accepts instances of Field that has an id defined.");if(!e.id)throw c("Field id must be defined.");if(this.findById(e.id))throw c("Field with id "+e.id+" is already added.");this.items.push(e),this.itemsById[e.id]=e},Object.defineProperties(re.prototype,se);function ae(e,t){this.id=t._uid,this._base=e,this._paused=!1,this.errors=new q(e.errors,this.id)}var oe={flags:{configurable:!0},rules:{configurable:!0},fields:{configurable:!0},dictionary:{configurable:!0},locale:{configurable:!0}};oe.flags.get=function(){var t=this;return this._base.fields.items.filter(function(e){return e.vmId===t.id}).reduce(function(e,t){return t.scope&&(e["$"+t.scope]||(e["$"+t.scope]={}),e["$"+t.scope][t.name]=t.flags),e[t.name]=t.flags,e},{})},oe.rules.get=function(){return this._base.rules},oe.fields.get=function(){return new re(this._base.fields.filter({vmId:this.id}))},oe.dictionary.get=function(){return this._base.dictionary},oe.locale.get=function(){return this._base.locale},oe.locale.set=function(e){this._base.locale=e},ae.prototype.localize=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base).localize.apply(e,t)},ae.prototype.update=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base).update.apply(e,t)},ae.prototype.attach=function(e){var t=E({},e,{vmId:this.id});return this._base.attach(t)},ae.prototype.pause=function(){this._paused=!0},ae.prototype.resume=function(){this._paused=!1},ae.prototype.remove=function(e){return this._base.remove(e)},ae.prototype.detach=function(e,t){return this._base.detach(e,t,this.id)},ae.prototype.extend=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base).extend.apply(e,t)},ae.prototype.validate=function(e,t,n){return void 0===n&&(n={}),this._paused?Promise.resolve(!0):this._base.validate(e,t,E({},{vmId:this.id},n||{}))},ae.prototype.verify=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base).verify.apply(e,t)},ae.prototype.validateAll=function(e,t){return void 0===t&&(t={}),this._paused?Promise.resolve(!0):this._base.validateAll(e,E({},{vmId:this.id},t||{}))},ae.prototype.validateScopes=function(e){return void 0===e&&(e={}),this._paused?Promise.resolve(!0):this._base.validateScopes(E({},{vmId:this.id},e||{}))},ae.prototype.destroy=function(){delete this.id,delete this._base},ae.prototype.reset=function(e){return this._base.reset(Object.assign({},e||{},{vmId:this.id}))},ae.prototype.flag=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base).flag.apply(e,t.concat([this.id]))},ae.prototype._resolveField=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this._base)._resolveField.apply(e,t)},Object.defineProperties(ae.prototype,oe);function ue(){return le}var le=null,ce={provide:function(){return this.$validator&&!n(this.$vnode)?{$validator:this.$validator}:{}},beforeCreate:function(){if(!n(this.$vnode)&&!1!==this.$options.$__veeInject){this.$parent||L(this.$options.$_veeValidate||{});var e=S(this);(!this.$parent||this.$options.$_veeValidate&&/new/.test(this.$options.$_veeValidate.validator))&&(this.$validator=new ae(ue(),this));var t=function(e){return!(!I(e)||!e.$validator)}(this.$options.inject);if(this.$validator||!e.inject||t||(this.$validator=new ae(ue(),this)),t||this.$validator){if(!t&&this.$validator)this.$options._base.util.defineReactive(this.$validator,"errors",this.$validator.errors);this.$options.computed||(this.$options.computed={}),this.$options.computed[e.errorBagName||"errors"]=function(){return this.$validator.errors},this.$options.computed[e.fieldsBagName||"fields"]=function(){return this.$validator.fields.items.reduce(function(e,t){return t.scope?(e["$"+t.scope]||(e["$"+t.scope]={}),e["$"+t.scope][t.name]=t.flags):e[t.name]=t.flags,e},{})}}}},beforeDestroy:function(){this.$validator&&this._uid===this.$validator.id&&this.$validator.errors.clear()}};function de(e,t){return t&&t.$validator?t.$validator.fields.findById(e._veeValidateId):null}function fe(e,t,n){void 0===t&&(t={fastExit:!0}),void 0===n&&(n=null),this.errors=new q,this.fields=new re,this._createFields(e),this.paused=!1,this.fastExit=!!m(t&&t.fastExit)||t.fastExit,this.$vee=n||{_vm:{$nextTick:function(e){return O(e)?e():Promise.resolve()},$emit:function(){},$off:function(){}}}}var ve={bind:function(e,t,n){var i=n.context.$validator;if(i){var r=G.generate(e,t,n);i.attach(r)}},inserted:function(e,t,n){var i=de(e,n.context),r=G.resolveScope(e,t,n);i&&r!==i.scope&&(i.update({scope:r}),i.updated=!1)},update:function(e,t,n){var i=de(e,n.context);if(!(!i||i.updated&&g(t.value,t.oldValue))){var r=G.resolveScope(e,t,n),s=G.resolveRules(e,t,n);i.update({scope:r,rules:s})}},unbind:function(e,t,n){var i=n.context,r=de(e,i);r&&i.$validator.detach(r)}},he={rules:{configurable:!0},dictionary:{configurable:!0},flags:{configurable:!0},locale:{configurable:!0}},pe={rules:{configurable:!0},dictionary:{configurable:!0},locale:{configurable:!0}};pe.rules.get=function(){return U.rules},he.rules.get=function(){return U.rules},he.dictionary.get=function(){return R.getDriver()},pe.dictionary.get=function(){return R.getDriver()},he.flags.get=function(){return this.fields.items.reduce(function(e,t){var n;return t.scope?e["$"+t.scope]=((n={})[t.name]=t.flags,n):e[t.name]=t.flags,e},{})},he.locale.get=function(){return fe.locale},he.locale.set=function(e){fe.locale=e},pe.locale.get=function(){return R.getDriver().locale},pe.locale.set=function(e){var t=e!==R.getDriver().locale;R.getDriver().locale=e,t&&fe.$vee&&fe.$vee._vm&&fe.$vee._vm.$emit("localeChanged")},fe.create=function(e,t){return new fe(e,t)},fe.extend=function(e,t,n){void 0===n&&(n={}),fe._guardExtend(e,t);var i=t.options||{};fe._merge(e,{validator:t,paramNames:n&&n.paramNames||t.paramNames,options:E({hasTarget:!1,immediate:!0},i,n||{})})},fe.remove=function(e){U.remove(e)},fe.prototype.localize=function(e,t){fe.localize(e,t)},fe.localize=function(e,t){var n;if(I(e))R.getDriver().merge(e);else{if(t){var i=e||t.name;t=E({},t),R.getDriver().merge(((n={})[i]=t,n))}e&&(fe.locale=e)}},fe.prototype.attach=function(e){var t=this,n={name:e.name,scope:e.scope,persist:!0},i=e.persist?this.fields.find(n):null;i&&(e.flags=i.flags,i.destroy(),this.fields.remove(i));var r=e.initialValue,s=new ee(e);return this.fields.push(s),s.immediate?this.$vee._vm.$nextTick(function(){return t.validate("#"+s.id,r||s.value,{vmId:e.vmId})}):this._validate(s,r||s.value,{initial:!0}).then(function(e){s.flags.valid=e.valid,s.flags.invalid=!e.valid}),s},fe.prototype.flag=function(e,t,n){void 0===n&&(n=null);var i=this._resolveField(e,void 0,n);i&&t&&i.setFlags(t)},fe.prototype.detach=function(e,t,n){var i=O(e.destroy)?e:this._resolveField(e,t,n);i&&(i.persist||(i.destroy(),this.errors.remove(i.name,i.scope,i.vmId),this.fields.remove(i)))},fe.prototype.extend=function(e,t,n){void 0===n&&(n={}),fe.extend(e,t,n)},fe.prototype.reset=function(t){var n=this;return this.$vee._vm.$nextTick().then(function(){return n.$vee._vm.$nextTick()}).then(function(){n.fields.filter(t).forEach(function(e){e.waitFor(null),e.reset(),n.errors.remove(e.name,e.scope,t&&t.vmId)})})},fe.prototype.update=function(e,t){var n=t.scope;this._resolveField("#"+e)&&this.errors.update(e,{scope:n})},fe.prototype.remove=function(e){fe.remove(e)},fe.prototype.validate=function(e,t,n){var i=this;void 0===n&&(n={});var r=n.silent,s=n.vmId;if(this.paused)return Promise.resolve(!0);if(m(e))return this.validateScopes({silent:r,vmId:s});if("*"===e)return this.validateAll(void 0,{silent:r,vmId:s});if(/^(.+)\.\*$/.test(e)){var a=e.match(/^(.+)\.\*$/)[1];return this.validateAll(a)}var o=this._resolveField(e);if(!o)return this._handleFieldNotFound(e);r||(o.flags.pending=!0),void 0===t&&(t=o.value);var u=this._validate(o,t);return o.waitFor(u),u.then(function(e){return!r&&o.isWaitingFor(u)&&(o.waitFor(null),i._handleValidationResults([e],s)),e.valid})},fe.prototype.pause=function(){return this.paused=!0,this},fe.prototype.resume=function(){return this.paused=!1,this},fe.prototype.validateAll=function(t,e){var n=this;void 0===e&&(e={});var i=e.silent,r=e.vmId;if(this.paused)return Promise.resolve(!0);var s=null,a=!1;return"string"==typeof t?s={scope:t,vmId:r}:I(t)?(s=Object.keys(t).map(function(e){return{name:e,vmId:r,scope:null}}),a=!0):s=Array.isArray(t)?t.map(function(e){return"object"==typeof e?Object.assign({vmId:r},e):{name:e,vmId:r}}):{scope:null,vmId:r},Promise.all(this.fields.filter(s).map(function(e){return n._validate(e,a?t[e.name]:e.value)})).then(function(e){return i||n._handleValidationResults(e,r),e.every(function(e){return e.valid})})},fe.prototype.validateScopes=function(e){var t=this;void 0===e&&(e={});var n=e.silent,i=e.vmId;return this.paused?Promise.resolve(!0):Promise.all(this.fields.filter({vmId:i}).map(function(e){return t._validate(e,e.value)})).then(function(e){return n||t._handleValidationResults(e,i),e.every(function(e){return e.valid})})},fe.prototype.verify=function(e,t,n){void 0===n&&(n={});var i={name:n&&n.name||"{field}",rules:_(t),bails:u("bails",n,!0),forceRequired:!1,get isRequired(){return!!this.rules.required||this.forceRequired}},r=Object.keys(i.rules).filter(U.isTargetRule);return r.length&&n&&I(n.values)&&(i.dependencies=r.map(function(e){var t=i.rules[e][0];return{name:e,field:{value:n.values[t]}}})),this._validate(i,e).then(function(e){var t=[],n={};return e.errors.forEach(function(e){t.push(e.msg),n[e.rule]=e.msg}),{valid:e.valid,errors:t,failedRules:n}})},fe.prototype.destroy=function(){this.$vee._vm.$off("localeChanged")},fe.prototype._createFields=function(n){var i=this;n&&Object.keys(n).forEach(function(e){var t=E({},{name:e,rules:n[e]});i.attach(t)})},fe.prototype._getDateFormat=function(e){var t=null;return e.date_format&&Array.isArray(e.date_format)&&(t=e.date_format[0]),t||R.getDriver().getDateFormat(this.locale)},fe.prototype._formatErrorMessage=function(e,t,n,i){void 0===n&&(n={}),void 0===i&&(i=null);var r=this._getFieldDisplayName(e),s=this._getLocalizedParams(t,i);return R.getDriver().getFieldMessage(this.locale,e.name,t.name,[r,s,n])},fe.prototype._convertParamObjectToArray=function(n,e){if(Array.isArray(n))return n;var t=U.getParamNames(e);return t&&I(n)?t.reduce(function(e,t){return t in n&&e.push(n[t]),e},[]):n},fe.prototype._getLocalizedParams=function(e,t){void 0===t&&(t=null);var n=this._convertParamObjectToArray(e.params,e.name);return e.options.hasTarget&&n&&n[0]?[t||R.getDriver().getAttribute(this.locale,n[0],n[0])].concat(n.slice(1)):n},fe.prototype._getFieldDisplayName=function(e){return e.alias||R.getDriver().getAttribute(this.locale,e.name,e.name)},fe.prototype._convertParamArrayToObj=function(t,e){var i=U.getParamNames(e);if(!i)return t;if(I(t)){if(i.some(function(e){return-1!==Object.keys(t).indexOf(e)}))return t;t=[t]}return t.reduce(function(e,t,n){return e[i[n]]=t,e},{})},fe.prototype._test=function(i,e,r){var s=this,t=U.getValidatorMethod(r.name),n=Array.isArray(r.params)?d(r.params):r.params;n||(n=[]);var a=null;if(!t||"function"!=typeof t)return Promise.reject(c("No such validator '"+r.name+"' exists."));if(r.options.hasTarget&&i.dependencies){var o=j(i.dependencies,function(e){return e.name===r.name});o&&(a=o.field.alias,n=[o.field.value].concat(n.slice(1)))}else"required"===r.name&&i.rejectsFalse&&(n=n.length?n:[!0]);if(r.options.isDate){var u=this._getDateFormat(i.rules);"date_format"!==r.name&&n.push(u)}var l=t(e,this._convertParamArrayToObj(n,r.name));return O(l.then)?l.then(function(e){var t=!0,n={};return Array.isArray(e)?t=e.every(function(e){return I(e)?e.valid:e}):(t=I(e)?e.valid:e,n=e.data),{valid:t,data:l.data,errors:t?[]:[s._createFieldError(i,r,n,a)]}}):(I(l)||(l={valid:l,data:{}}),{valid:l.valid,data:l.data,errors:l.valid?[]:[this._createFieldError(i,r,l.data,a)]})},fe._merge=function(e,t){var n=t.validator,i=t.options,r=t.paramNames,s=O(n)?n:n.validate;n.getMessage&&R.getDriver().setMessage(fe.locale,e,n.getMessage),U.add(e,{validate:s,options:i,paramNames:r})},fe._guardExtend=function(e,t){if(!O(t)&&!O(t.validate))throw c("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")},fe.prototype._createFieldError=function(e,t,n,i){var r=this;return{id:e.id,vmId:e.vmId,field:e.name,msg:this._formatErrorMessage(e,t,n,i),rule:t.name,scope:e.scope,regenerate:function(){return r._formatErrorMessage(e,t,n,i)}}},fe.prototype._resolveField=function(e,t,n){if("#"===e[0])return this.fields.findById(e.slice(1));if(!m(t))return this.fields.find({name:e,scope:t,vmId:n});if(N(e,".")){var i=e.split("."),r=i[0],s=i.slice(1),a=this.fields.find({name:s.join("."),scope:r,vmId:n});if(a)return a}return this.fields.find({name:e,scope:null,vmId:n})},fe.prototype._handleFieldNotFound=function(e,t){var n=m(t)?e:(m(t)?"":t+".")+e;return Promise.reject(c('Validating a non-existent field: "'+n+'". Use "attach()" first.'))},fe.prototype._handleValidationResults=function(n,t){var i=this,e=n.map(function(e){return{id:e.id}});this.errors.removeById(e.map(function(e){return e.id})),n.forEach(function(e){i.errors.remove(e.field,e.scope,t)});var r=n.reduce(function(e,t){return e.push.apply(e,t.errors),e},[]);this.errors.add(r),this.fields.filter(e).forEach(function(t){var e=j(n,function(e){return e.id===t.id});t.setFlags({pending:!1,valid:e.valid,validated:!0})})},fe.prototype._shouldSkip=function(e,t){return!1!==e.bails&&(!!e.isDisabled||!e.isRequired&&(m(t)||""===t||function(e){return Array.isArray(e)&&0===e.length}(t)))},fe.prototype._shouldBail=function(e){return void 0!==e.bails?e.bails:this.fastExit},fe.prototype._validate=function(i,r,e){var s=this;void 0===e&&(e={});var t=e.initial,n=Object.keys(i.rules).filter(U.isRequireRule);if(i.forceRequired=!1,n.forEach(function(e){var t=U.getOptions(e),n=s._test(i,r,{name:e,params:i.rules[e],options:t});if(O(n.then))throw c("Require rules cannot be async");if(!I(n))throw c("Require rules has to return an object (see docs)");!0===n.data.required&&(i.forceRequired=!0)}),this._shouldSkip(i,r))return Promise.resolve({valid:!0,id:i.id,field:i.name,scope:i.scope,errors:[]});var a=[],o=[],u=!1;return O(i.checkValueChanged)&&(i.flags.changed=i.checkValueChanged()),Object.keys(i.rules).filter(function(e){return!t||!U.has(e)||U.isImmediate(e)}).some(function(e){var t=U.getOptions(e),n=s._test(i,r,{name:e,params:i.rules[e],options:t});return O(n.then)?a.push(n):!n.valid&&s._shouldBail(i)?(o.push.apply(o,n.errors),u=!0):a.push(new Promise(function(e){return e(n)})),u}),u?Promise.resolve({valid:!1,errors:o,id:i.id,field:i.name,scope:i.scope}):Promise.all(a).then(function(e){return e.reduce(function(e,t){var n;return t.valid||(n=e.errors).push.apply(n,t.errors),e.valid=e.valid&&t.valid,e},{valid:!0,errors:o,id:i.id,field:i.name,scope:i.scope})})},Object.defineProperties(fe.prototype,he),Object.defineProperties(fe,pe);function me(e,t){this.i18n=e,this.rootKey=t}var ge=function(n){return I(n)?Object.keys(n).reduce(function(e,t){return e[t]=ge(n[t]),e},{}):O(n)?n("{0}",["{1}","{2}","{3}"]):n},ye={locale:{configurable:!0}};ye.locale.get=function(){return this.i18n.locale},ye.locale.set=function(e){$("Cannot set locale from the validator when using vue-i18n, use i18n.locale setter instead")},me.prototype.getDateFormat=function(e){return this.i18n.getDateTimeFormat(e||this.locale)},me.prototype.setDateFormat=function(e,t){this.i18n.setDateTimeFormat(e||this.locale,t)},me.prototype.getMessage=function(e,t,n){var i=this.rootKey+".messages."+t,r=n;return Array.isArray(n)&&(r=[].concat.apply([],n)),this.i18n.te(i)?this.i18n.t(i,r):this.i18n.te(i,this.i18n.fallbackLocale)?this.i18n.t(i,this.i18n.fallbackLocale,r):this.i18n.t(this.rootKey+".messages._default",r)},me.prototype.getAttribute=function(e,t,n){void 0===n&&(n="");var i=this.rootKey+".attributes."+t;return this.i18n.te(i)?this.i18n.t(i):n},me.prototype.getFieldMessage=function(e,t,n,i){var r=this.rootKey+".custom."+t+"."+n;return this.i18n.te(r)?this.i18n.t(r,i):this.getMessage(e,n,i)},me.prototype.merge=function(r){var s=this;Object.keys(r).forEach(function(e){var t,n=F({},u(e+"."+s.rootKey,s.i18n.messages,{})),i=F(n,function(e){var t={};return e.messages&&(t.messages=ge(e.messages)),e.custom&&(t.custom=ge(e.custom)),e.attributes&&(t.attributes=e.attributes),m(e.dateFormat)||(t.dateFormat=e.dateFormat),t}(r[e]));s.i18n.mergeLocaleMessage(e,((t={})[s.rootKey]=i,t)),i.dateFormat&&s.i18n.setDateTimeFormat(e,i.dateFormat)})},me.prototype.setMessage=function(e,t,n){var i,r;this.merge(((r={})[e]={messages:(i={},i[t]=n,i)},r))},me.prototype.setAttribute=function(e,t,n){var i,r;this.merge(((r={})[e]={attributes:(i={},i[t]=n,i)},r))},Object.defineProperties(me.prototype,ye);function be(e,t){this.configure(e),t&&(_e=t),(Ie=this)._validator=function(e){return le=e}(new fe(null,{fastExit:e&&e.fastExit},this)),this._initVM(this.config),this._initI18n(this.config)}var _e,$e,Ie,Oe={aggressive:function(){return{on:["input"]}},eager:function(e){return e.errors.length?{on:["input"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change"]}}},Ae={i18nDriver:{configurable:!0},config:{configurable:!0}},Ee={i18nDriver:{configurable:!0},config:{configurable:!0}};be.setI18nDriver=function(e,t){R.setDriver(e,t)},be.configure=function(e){L(e)},be.setMode=function(e,t){if(L({mode:e}),t){if(!O(t))throw new Error("A mode implementation must be a function");Oe[e]=t}},be.use=function(e,t){return void 0===t&&(t={}),O(e)?Ie?void e({Validator:fe,ErrorBag:q,Rules:fe.rules},t):($e||($e=[]),void $e.push({plugin:e,options:t})):$("The plugin must be a callable function")},be.install=function(e,t){_e&&e===_e||(_e=e,Ie=new be(t),fe.$vee=Ie,function(){try{var e=Object.defineProperty({},"passive",{get:function(){te=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){te=!1}}(),_e.mixin(ce),_e.directive("validate",ve),$e&&($e.forEach(function(e){var t=e.plugin,n=e.options;be.use(t,n)}),$e=null))},Ae.i18nDriver.get=function(){return R.getDriver()},Ee.i18nDriver.get=function(){return R.getDriver()},Ae.config.get=function(){return C()},Ee.config.get=function(){return C()},be.prototype._initVM=function(e){var t=this;this._vm=new _e({data:function(){return{errors:t._validator.errors,fields:t._validator.fields}}})},be.prototype._initI18n=function(e){function t(){n._validator.errors.regenerate()}var n=this,i=e.dictionary,r=e.i18n,s=e.i18nRootKey,a=e.locale;r?(be.setI18nDriver("i18n",new me(r,s)),r._vm.$watch("locale",t)):"undefined"!=typeof window&&this._vm.$on("localeChanged",t),i&&this.i18nDriver.merge(i),a&&!r&&this._validator.localize(a)},be.prototype.configure=function(e){L(e)},Object.defineProperties(be.prototype,Ae),Object.defineProperties(be,Ee),be.mixin=ce,be.directive=ve,be.Validator=fe,be.ErrorBag=q;function xe(n,i){var r={pristine:function(e,t){return e&&t},dirty:function(e,t){return e||t},touched:function(e,t){return e||t},untouched:function(e,t){return e&&t},valid:function(e,t){return e&&t},invalid:function(e,t){return e||t},pending:function(e,t){return e||t},required:function(e,t){return e||t},validated:function(e,t){return e&&t}};return Object.keys(r).reduce(function(e,t){return e[t]=r[t](n[t],i[t]),e},{})}var we=function(i,r){return void 0===r&&(r=!0),Object.keys(i).reduce(function(e,t){if(!e)return e=E({},i[t]);var n=0===t.indexOf("$");return r&&n?xe(we(i[t]),e):!r&&n?e:e=xe(e,i[t])},null)},je=null,Fe=0;function Ne(n){return{errors:n.messages,flags:n.flags,classes:n.classes,valid:n.isValid,failedRules:n.failedRules,reset:function(){return n.reset()},validate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.validate.apply(n,e)},aria:{"aria-invalid":n.flags.invalid?"true":"false","aria-required":n.isRequired?"true":"false"}}}function Ve(e){return(O(e.mode)?e.mode:Oe[e.mode])({errors:e.messages,value:e.value,flags:e.flags})}function De(e){this.initialized||(this.initialValue=e.value);var t=function(e,t){return!(e._ignoreImmediate||!e.immediate)||e.value!==t.value||!!e._needsValidation||!e.initialized&&void 0===t.value}(this,e);this._needsValidation=!1,this.value=e.value,this._ignoreImmediate=!0,t&&this.validateSilent().then(this.immediate||this.flags.validated?this.applyResult:function(e){return e})}function Re(n){var e=n.$veeHandler,t=Ve(n);return e&&n.$veeDebounce===n.debounce||(e=b(function(){n.$nextTick(function(){var t=n.validateSilent();(n._pendingValidation=t).then(function(e){t===n._pendingValidation&&(n.applyResult(e),n._pendingValidation=null)})})},t.debounce||n.debounce),n.$veeHandler=e,n.$veeDebounce=n.debounce),{onInput:function(e){n.syncValue(e),n.setFlags({dirty:!0,pristine:!1})},onBlur:function(){n.setFlags({touched:!0,untouched:!1})},onValidate:e}}var ke={$__veeInject:!1,inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},subscribe:function(e){this.refs[e.vid]=e},unsubscribe:function(e){delete this.refs[e.vid]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:[String,Number],default:function(){return"_vee_"+ ++Fe}},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return C().mode}},events:{type:Array,validate:function(){return!0},default:function(){var e=C().events;return"string"==typeof e?e.split("|"):e}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},persist:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return C().fastExit}},debounce:{type:Number,default:function(){return C().delay||0}},tag:{type:String,default:"span"}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!g(e,t)}}},data:function(){return{messages:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1},failedRules:{},forceRequired:!1,isDeactivated:!1,id:null}},computed:{isValid:function(){return this.flags.valid},fieldDeps:function(){var i=this,r=_(this.rules),s=this.$_veeObserver.refs;return Object.keys(r).filter(U.isTargetRule).map(function(e){var t=r[e][0],n="$__"+t;return!O(i[n])&&s[t]&&(i[n]=s[t].$watch("value",function(){i.flags.validated&&(i._needsValidation=!0,i.validate())})),t})},normalizedEvents:function(){var t=this,e=Ve(this).on;return Y(e||this.events||[]).map(function(e){return"input"===e?t._inputEventName:e})},isRequired:function(){var e=_(this.rules),t=this.forceRequired,n=e.required||t;return this.flags.required=n},classes:function(){var i=this,r=C().classNames;return Object.keys(this.flags).reduce(function(e,t){var n=r&&r[t]||t;return m(i.flags[t])||n&&(e[n]=i.flags[t]),e},{})}},render:function(e){var t=this;this.registerField();var n=Ne(this),i=this.$scopedSlots.default;if(!O(i))return e(this.tag,this.$slots.default);var r=i(n);return B(r).forEach(function(e){(function(t){var e=T(t);this._inputEventName=this._inputEventName||W(t,e),De.call(this,e);var n=Re(this),i=n.onInput,r=n.onBlur,s=n.onValidate;K(t,this._inputEventName,i),K(t,"blur",r),this.normalizedEvents.forEach(function(e){K(t,e,s)}),this.initialized=!0}).call(t,e)}),e(this.tag,r)},beforeDestroy:function(){this.$_veeObserver.unsubscribe(this)},activated:function(){this.$_veeObserver.subscribe(this),this.isDeactivated=!1},deactivated:function(){this.$_veeObserver.unsubscribe(this),this.isDeactivated=!0},methods:{setFlags:function(t){var n=this;Object.keys(t).forEach(function(e){n.flags[e]=t[e]})},syncValue:function(e){var t=function(e){return X(e)?"file"===e.target.type?d(e.target.files):e.target.value:e}(e);this.value=t,this.flags.changed=this.initialValue!==t},reset:function(){this.messages=[],this._pendingValidation=null,this.initialValue=this.value;var e={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1,changed:!1};this.setFlags(e)},validate:function(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0<e.length&&this.syncValue(e[0]),this.validateSilent().then(function(e){return t.applyResult(e),e})},validateSilent:function(){var t=this;return this.setFlags({pending:!0}),je.verify(this.value,this.rules,{name:this.name,values:function(e){var n=e.$_veeObserver.refs;return e.fieldDeps.reduce(function(e,t){return n[t]&&(e[t]=n[t].value),e},{})}(this),bails:this.bails}).then(function(e){return t.setFlags({pending:!1}),t.isRequired||t.setFlags({valid:e.valid,invalid:!e.valid}),e})},applyResult:function(e){var t=e.errors,n=e.failedRules;this.messages=t,this.failedRules=E({},n),this.setFlags({valid:!t.length,changed:this.value!==this.initialValue,invalid:!!t.length,validated:!0})},registerField:function(){je||(je=ue()||new fe(null,{fastExit:C().fastExit})),function(e){m(e.id)&&e.id===e.vid&&(e.id=Fe,Fe++);var t=e.id,n=e.vid;e.isDeactivated||t===n&&e.$_veeObserver.refs[t]||(t!==n&&e.$_veeObserver.refs[t]===e&&e.$_veeObserver.unsubscribe(e),e.$_veeObserver.subscribe(e),e.id=n)}(this)}}},Pe={pristine:"every",dirty:"some",touched:"some",untouched:"every",valid:"every",invalid:"some",pending:"some",validated:"every"};var qe=0,Se={name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"}},data:function(){return{vid:"obs_"+qe++,refs:{},observers:[]}},computed:{ctx:function(){var t=this,e={errors:{},validate:function(e){var n=t.validate(e);return{then:function(t){n.then(function(e){return e&&O(t)?Promise.resolve(t()):Promise.resolve(e)})}}},reset:function(){return t.reset()}};return h(this.refs).concat(this.observers).reduce(function(n,i){return Object.keys(Pe).forEach(function(e){var t=i.flags||i.ctx;n[e]=e in n?function(e,t,n){return[e,t][Pe[n]](function(e){return e})}(n[e],t[e],e):t[e]}),n.errors[i.vid]=i.messages||h(i.ctx.errors).reduce(function(e,t){return e.concat(t)},[]),n},e)}},created:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},activated:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},deactivated:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},beforeDestroy:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},render:function(e){var t=this.$scopedSlots.default;return this._persistedStore=this._persistedStore||{},O(t)?e(this.tag,{on:this.$listeners,attrs:this.$attrs},t(this.ctx)):e(this.tag,this.$slots.default)},methods:{subscribe:function(e,t){var n;void 0===t&&(t="provider"),"observer"!==t?(this.refs=Object.assign({},this.refs,((n={})[e.vid]=e,n)),e.persist&&this._persistedStore[e.vid]&&this.restoreProviderState(e)):this.observers.push(e)},unsubscribe:function(e,t){var n=e.vid;void 0===t&&(t="provider"),"provider"===t&&this.removeProvider(n);var i=l(this.observers,function(e){return e.vid===n});-1!==i&&this.observers.splice(i,1)},validate:function(e){void 0===e&&(e={silent:!1});var t=e.silent;return Promise.all(h(this.refs).map(function(e){return e[t?"validateSilent":"validate"]().then(function(e){return e.valid})}).concat(this.observers.map(function(e){return e.validate({silent:t})}))).then(function(e){return e.every(function(e){return e})})},reset:function(){return h(this.refs).concat(this.observers).forEach(function(e){return e.reset()})},restoreProviderState:function(e){var t=this._persistedStore[e.vid];e.setFlags(t.flags),e.applyResult(t),delete this._persistedStore[e.vid]},removeProvider:function(e){var t=this.refs[e];t&&t.persist&&(this._persistedStore[e]={flags:t.flags,errors:t.messages,failedRules:t.failedRules}),this.$delete(this.refs,e)}}};return be.version="2.2.5",be.mapFields=function(e){if(!e)return function(){return we(this.$validator.flags)};var s=function(e){return Array.isArray(e)?e.reduce(function(e,t){return N(t,".")?e[t.split(".")[1]]=t:e[t]=t,e},{}):e}(e);return Object.keys(s).reduce(function(e,i){var r=s[i];return e[i]=function(){if(this.$validator.flags[r])return this.$validator.flags[r];if("*"===s[i])return we(this.$validator.flags,!1);if(r.indexOf(".")<=0)return{};var e=r.split("."),t=e[0],n=e.slice(1);return t=this.$validator.flags["$"+t],"*"===(n=n.join("."))&&t?we(t):t&&t[n]?t[n]:{}},e},{})},be.ValidationProvider=ke,be.ValidationObserver=Se,be.withValidation=function(e,d){void 0===d&&(d=null);var f=O(e)?e.options:e;f.$__veeInject=!1;var t={name:(f.name||"AnonymousHoc")+"WithValidation",props:E({},ke.props),data:ke.data,computed:E({},ke.computed),methods:E({},ke.methods),$__veeInject:!1,beforeDestroy:ke.beforeDestroy,inject:ke.inject};d||(d=function(e){return e});var v=f.model&&f.model.event||"input";return t.render=function(e){var t;this.registerField();var n=Ne(this),i=E({},this.$listeners),r=T(this.$vnode);this._inputEventName=this._inputEventName||W(this.$vnode,r),De.call(this,r);var s=Re(this),a=s.onInput,o=s.onBlur,u=s.onValidate;H(i,v,a),H(i,"blur",o),this.normalizedEvents.forEach(function(e,t){H(i,e,u)});var l=(z(this.$vnode)||{prop:"value"}).prop,c=E({},this.$attrs,((t={})[l]=r.value,t),d(n));return e(f,{attrs:this.$attrs,props:c,on:i},function(n,i){return Object.keys(n).reduce(function(e,t){return n[t].forEach(function(e){e.context||(n[t].context=i,e.data||(e.data={}),e.data.slot=t)}),e.concat(n[t])},[])}(this.$slots,this.$vnode.context))},t},be});